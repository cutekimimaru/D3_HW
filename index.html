<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>D3_HW-03</title>
    <script src="//d3js.org/d3.v3.js"></script>
    <script src="script.js"></script>
    <link rel="stylesheet" href="default.css">
</head>
<body>
    <svg class="invoice-data" width="1000" height="700">
            
    </svg>
    <script>
        // part 1
        d3.json("invoice.json", function(dataSet) {
            var svg = d3.select(".invoice-data");
            var count = 0;
            let maxAmount = 1000000000;
            let ratio = 30 / maxAmount;
            for (var i=0; i< dataSet.length; i=i+1) {
                if (parseInt(dataSet[i].amount) > maxAmount && dataSet[i].cid === 'A' && dataSet[i].date === '2016/8/1' ) {
                    console.log(dataSet[i])
                    svg.append("text")
                       .attr({
                         x: 10,
                         y: 20 + count * 20
                       })
                       .text(`${dataSet[i].industry}`);
                    svg.append("rect")
                       .attr({
                         x: 300,
                         y: 5 + count * 20,
                         width : dataSet[i].amount * ratio,
                         height: 16,
                         fill: "red"
                       });
                    count = count + 1;
                    
                }
            }
        });
        
        // part 2
//        for (var i=0; i<20; i=i+1) {
//            var curWidth = getRandomInt(20, 300);
//            var curHeight = 10 + 15*i;
//            d3.select(".rects>svg")
//              .append("rect")
//              .attr({
//                x: 10,
//                y: curHeight,
//                width: curWidth,
//                height: 10,
//                fill: "red"
//               });
//            d3.select(".rects>svg")
//              .append("text")
//              .attr({
//                x: curWidth + 15,
//                y: curHeight +12,
//                "font-size": 12,
//                "font-family": "arial"
//               })
//              .text(curWidth);
//        }

//        var aaa = [1,2,3,4,5,6,7,8,9,10];
//        for (var i=0; i< aaa.length ; i= i+1) {
//            if (aaa[i]>5) {
//                d3.select("body").append("div").text(aaa[i]).style({color: "red"})
//            } else {
//                d3.select("body").append("div").text(aaa[i]);
//            }
//        }
    </script>
</body>
</html>